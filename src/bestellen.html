<!doctype html>
<html lang="de">
<include src="partials/html-head.html">
  {
  "title": "Bestellen - ECBF.shop"
  }
</include>
<body>
<header>

  <include src="partials/header.html"></include>

</header>
<main id="content" @mounted="whenMounted()">
  <div class="main-inner main-inner--order">
    <div>
      <h1>Bestellen</h1>
      <h2>Zusammenfassung</h2>
      <table class="cart__table" tabindex="-1" ref="cart">
        <caption class="visually-hidden">
          <span>Warenkorb, Gesamtsumme </span>
          <span data-cart-caption-total></span>
          <span> Euro</span>
        </caption>
        <thead>
        <tr>
          <th><span class="visually-hidden">Produkt</span></th>
          <th><span class="visually-hidden">Menge</span></th>
          <th><span class="visually-hidden">Optionen</span></th>
          <th><span class="visually-hidden">Warenkorb</span></th>
          <th><span class="visually-hidden">Preis</span></th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="cartItem in cart">
          <td class="product-area">
            <strong><a class="cart__product-link" href="produkt.html">{{cartItem.name}}</a></strong>
            <img class="cart__product-image" :src="cartItem.img_url" :alt="cartItem.img_alt" />
          </td>
          <td class="amount-area"><label :for="'cart-produkt' + cartItem.id">Menge: </label><input :id="'cart-produkt' + cartItem.id" class="cart__product-amount" :value="cartItem.amount" type="number" min="1" max="20"
                                                                                                   @change="updateItemPrice(cartItem.id)"></td>
          <td class="options-area">
            <div class="cart__giftwrap">
              <label  :for="'giftwrap-' + cartItem.id" class="cart__giftwrap-label">
                <input :id="'giftwrap-' + cartItem.id" type="checkbox" @change="toggleGiftWrap(cartItem.id)"
                       :checked="hasGiftwrap(cartItem.id) ? true: undefined"><div>Geschenk<span class="cart__packaging-string">verpackung</span><br> (€ {{giftwrapPrice /
                100}})</div></label>

            </div>
          </td>
          <td class="remove-area">
            <div >
              <button @click="toggleCartItem(cartItem.id)" class="cart__remove-item-button" type="button">
                <span class="visually-hidden">Aus Warenkorb entfernen</span>
              </button>
            </div>
          </td>
          <td class="price-area"><strong>€&nbsp;{{ (getLocalTotal(cartItem) / 100).toFixed(2) }}</strong></td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
          <td colspan="5">Gesamtsumme € {{ (sum / 100).toFixed(2) }}</td>
        </tr>
        </tfoot>
      </table>

      <fieldset aria-required="true" role="radiogroup" data-required-error="err13">
        <legend><h2>Bezahlmethode</h2></legend>

        <div><label for="rechnung"> <input type="radio" id="rechnung" name="bezahlmethode"> Rechnung</label></div>
        <div><label for="vorkasse"> <input type="radio" id="vorkasse" name="bezahlmethode"> Vorkasse</label></div>
        <div><label for="paythis"> <input type="radio" id="paythis" name="bezahlmethode"> Online bezahlen via
          PayStuffNow</label></div>

        <p class="form__error" hidden id="err13">Bitte Zahlmethode wählen</p>

      </fieldset>

    </div>
    <div>

      <h2>Ihre Daten</h2>


      <h3>Versandadresse</h3>

      <form data-order method="post">
        <div>
          <div class="box box--form">
            <small class="form__required-label">* bedeutet: Notwendige Angaben</small>
            <div class="row">

              <fieldset aria-required="true" role="radiogroup" class="" data-required-error="err1">
                <legend class="util-add-margin-bottom">
                  Anrede<em>*</em>
                </legend>

                <input type="radio" name="address.radiogroup.salutation" id="address.radiogroup.salutation.Mrs"
                       value="Mrs"
                       class="">
                <label class="" for="address.radiogroup.salutation.Mrs">
                  Frau
                </label>

                <input type="radio" name="address.radiogroup.salutation" id="address.radiogroup.salutation.Mr"
                       value="Mr"
                       class="">
                <label class="" for="address.radiogroup.salutation.Mr">
                  Herr
                </label>

                <input type="radio" name="address.radiogroup.salutation" id="address.radiogroup.salutation.Other"
                       value="Other" class="">
                <label class="" for="address.radiogroup.salutation.Other">
                  Keine Angabe
                </label>

                <p id="err1" class="form__error" hidden>Bitte wählen Sie eine Anrede aus.</p>
              </fieldset>

              <div class="input-box">
                <label for="address.firstName" class="form__label">Vorname<em>*</em>
                </label>
                <input aria-required="true" data-required-error="err2" autocomplete="given-name" type="text"
                       name="address.firstName" id="address.firstName">
                <p class="form__error" hidden id="err2">Bitte Vornamen angeben</p>
              </div>
              <div class="input-box">
                <label for="address.lastName" class="form__label">Nachname<em>*</em>
                </label>
                <input aria-required="true" data-required-error="err3" type="text" name="address.lastName"
                       id="address.lastName" autocomplete="family-name" value="">
                <p class="form__error" hidden id="err3">Bitte Nachnamen angeben</p>
              </div>
            </div>
            <div class="row">
              <div class="input-box">
                <label for="address.company" class="form__label">Adresszusatz / Firma
                </label>
                <input type="text" name="address.company" id="address.company" autocomplete="organization"
                       value="">
              </div>
              <div class="row">
                <div class="input-box">
                  <label for="address.address1" class="form__label">Straße<em>*</em>
                  </label>
                  <input type="text" aria-required="true" data-required-error="err4" name="address.address1"
                         id="address.address1" autocomplete="address-level3">
                  <p class="form__error" hidden id="err4">Bitte Straße angeben</p>
                </div>
                <div class="input-box">
                  <label for="address.address2" class="form__label">Nr.<em>*</em>
                  </label>
                  <input type="text" aria-required="true" data-required-error="err5" name="address.address2"
                         id="address.address2" value="">
                  <p class="form__error" hidden id="err5">Bitte Hausnummer angeben</p>
                </div>
              </div>
              <div class="row">
                <div class="input-box">
                  <label for="address.zipCode" class="form__label">PLZ<em>*</em>
                  </label>
                  <input type="text" aria-required="true" data-required-error="err6" name="address.zipCode"
                         id="address.zipCode" autocomplete="postal-code" pattern="[0-9]*">
                  <p class="form__error" hidden id="err6">Bitte Postleitzahl angeben</p>
                </div>
                <div class="input-box">
                  <label for="address.city" class="form__label">Ort<em>*</em>
                  </label>
                  <input autocomplete="address-level2" aria-required="true" data-required-error="err7" type="text"
                         name="address.city" id="address.city" value="">
                  <p class="form__error" hidden id="err7">Bitte Ort angeben</p>
                </div>
              </div>
              <div class="row">
                <div class="input-box col-xs-12">
                  <label for="address.email" class="form__label">E-Mail-Adresse<em>*</em>
                  </label>
                  <input aria-required="true" data-required-error="err8" data-email-syntax-error="err9" type="email"
                         name="address.email" id="address.email" value="" maxlength="50" autocomplete="email">
                  <p class="form__error" hidden id="err8">Bitte E-Mail-Adresse angeben</p>
                  <p class="form__error" hidden id="err9">Die E-Mail-Adresse wurde nicht im richtigen Format
                    eingegeben.</p>
                </div>
              </div>


            </div>
          </div>
          <div>
            <h3>Rechnungsaddresse</h3>

          </div>
          <div>
            <input type="checkbox" :checked="invoiceDataHidden" id="addressIsInvoiceAddress"
                   name="addressIsInvoiceAddress"
                   value="1"
                   @click="invoiceDataHidden = !invoiceDataHidden">
            <label class="form__label" for="addressIsInvoiceAddress">
              Die Versandadresse entspricht der Rechnungsadresse
            </label>
            <div v-show="!invoiceDataHidden">
              <fieldset aria-required="true" role="radiogroup" data-required-error="err1">
                <legend class="util-add-margin-bottom">
                  Anrede<em>*</em>
                </legend>

                <input type="radio" name="address.radiogroup.salutation" id="address-invoice.radiogroup.salutation.Mrs"
                       value="Mrs" class="">
                <label class="util-add-margin-right-full" for="address-invoice.radiogroup.salutation.Mrs">
                  Frau
                </label>

                <input type="radio" name="address-invoice.radiogroup.salutation"
                       id="address-invoice.radiogroup.salutation.Mr" value="Mr" class="">
                <label class="util-add-margin-right-full" for="address-invoice.radiogroup.salutation.Mr">
                  Herr
                </label>

                <input type="radio" name="address-invoice.radiogroup.salutation"
                       id="address-invoice.radiogroup.salutation.Other" value="Other" class="">
                <label class="" for="address-invoice.radiogroup.salutation.Other">
                  Keine Angabe
                </label>

                <p id="err21" class="form__error" hidden>Bitte wählen Sie eine Anrede aus.</p>
              </fieldset>
              <div class="input-box">
                <label class="form__label" for="address-invoice.firstName">Vorname<em>*</em>
                </label>
                <input aria-required="true" data-required-error="err22" autocomplete="given-name" type="text"
                       name="address-invoice.firstName" id="address-invoice.firstName">
                <p class="form__error" hidden id="err22">Bitte Vornamen angeben</p>
              </div>
              <div class="input-box">
                <label class="form__label" for="address-invoice.lastName">Nachname<em>*</em>
                </label>
                <input aria-required="true" data-required-error="err23" type="text" name="address-invoice.lastName"
                       id="address-invoice.lastName" autocomplete="family-name" value="">
                <p class="form__error" hidden id="err23">Bitte Nachnamen angeben</p>
              </div>
              <div class="row">
                <div class="input-box">
                  <label class="form__label" for="address-invoice.company">Adresszusatz / Firma
                  </label>
                  <input type="text" name="address-invoice.company" id="address-invoice.company"
                         autocomplete="organization"
                         data-nudge="#nudgeCheckoutPersonalData-company-ng-maxlength" value="">
                </div>
                <div class="row">
                  <div class="input-box">
                    <label class="form__label" for="address-invoice.address1">Straße<em>*</em>
                    </label>
                    <input type="text" aria-required="true" data-required-error="err24" name="address-invoice.address1"
                           id="address-invoice.address1" autocomplete="address-level3">
                    <p class="form__error" hidden id="err24">Bitte Straße angeben</p>
                  </div>
                  <div class="input-box">
                    <label class="form__label" for="address-invoice.address2">Nr.<em>*</em>
                    </label>
                    <input type="text" aria-required="true" data-required-error="err25" name="address-invoice.address2"
                           id="address-invoice.address2" value="">
                    <p class="form__error" hidden id="err25">Bitte Hausnummer angeben</p>
                  </div>
                </div>
                <div class="row">
                  <div class="input-box">
                    <label class="form__label" for="address-invoice.zipCode">PLZ<em>*</em>
                    </label>
                    <input type="text" aria-required="true" data-required-error="err26" name="address-invoice.zipCode"
                           id="address-invoice.zipCode" autocomplete="postal-code" pattern="[0-9]*">
                    <p class="form__error" hidden id="err26">Bitte Postleitzahl angeben</p>
                  </div>
                  <div class="input-box">
                    <label class="form__label" for="address-invoice.city">Ort<em>*</em>
                    </label>
                    <input autocomplete="address-level2" aria-required="true" data-required-error="err27" type="text"
                           name="address-invoice.city" id="address-invoice.city" value="">
                    <p class="form__error" hidden id="err27">Bitte Ort angeben</p>
                  </div>
                </div>
                <div class="row">
                  <div class="input-box col-xs-12">
                    <label class="form__label" for="address-invoice.email">E-Mail-Adresse<em>*</em>
                    </label>
                    <input aria-required="true" data-required-error="err28" data-email-syntax-error="err29" type="email"
                           name="address-invoice.email" id="address-invoice.email" value="" maxlength="50"
                           autocomplete="email">
                    <p class="form__error" hidden id="err28">Bitte E-Mail-Adresse angeben</p>
                    <p class="form__error" hidden id="err29">Die E-Mail-Adresse wurde nicht im richtigen Format
                      eingegeben.</p>
                  </div>
                </div>
              </div>
            </div>
            <input type="hidden" v-if="invoiceDataHidden" name="customerDataIsInvoiceData">
            <div class="row">
              <div>
                <h3>Kundenkonto</h3>

                <label for="registerUser"><input type="checkbox" id="registerUser" name="registerUser" value="1">

                  Ich möchte bei der nächsten Bestellung meine Daten nicht erneut eingeben müssen und gern ein Konto
                  anlegen.</label>


                <div class="row" id="registerUserArea" hidden>
                  <div>
                    <label class="form__label" for="logonData.loginPassword">Passwort (min. 6 Zeichen)<em>*</em>
                    </label>
                    <input type="password" data-required-error="err10" aria-required="true"
                           name="logonData.loginPassword"
                           id="logonData.loginPassword" value="" title="Passwort (min. 6 Zeichen)" maxlength="30">
                    <button class="form__password-switch passwordHideShow" type="button">Passwort anzeigen</button>
                    <span class="visually-hidden" aria-live="polite"></span>
                    <p class="form__error" hidden id="err10">Bitte Passwort angeben</p>
                  </div>
                  <div class="input-box">
                    <label class="form__label" for="logonData.loginPasswordRepeat">Passwort wiederholen<em>*</em>
                    </label>
                    <input type="password" data-required-error="err11" data-pw-mismatch-error="err12"
                           aria-required="true"
                           name="logonData.loginPasswordRepeat" id="logonData.loginPasswordRepeat" value=""
                           title="Passwort wiederholen" maxlength="30">
                    <button class="form__password-switch passwordHideShow" type="button">Passwort anzeigen</button>
                    <span class="visually-hidden" aria-live="polite"></span>
                    <p class="form__error" hidden id="err11">Bitte Passwort erneut angeben</p>
                    <p class="form__error" hidden id="err12">Passwort und Passwortwiederholung stimmen nicht überein</p>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>


        <button class="button" type="submit">Absenden</button>

      </form>


    </div>
  </div>
</main>
<aside>

</aside>
<include src="partials/html-footer.html"></include>

